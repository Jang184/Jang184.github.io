---
layout: post
title: 자바스크립트의 프로토타입
subtitle: 코어자바스크립트 정복 05
header-style: text
author: Juri
tags:
    - javascript
---

_책 코어자바스크립트 (위키북스 출판) 을 참고해 작성한 포스팅입니다._

## 프로토타입 (prototype)

자바스크립트는 프로토타입 기반 언어이다. 클래스 기반 언어에서는 **상속**을 사용하지만 프로토타입 기반 언어에서는 어떤 객체를 원형으로 삼고 이를 **참조**해 상속과 비슷한 효과를 얻는다.

### 개념 이해

![](/img/in-post/prototype.png)

```js
var instance = new Constructor();
```

위의 그림은 아래의 코드를 추상화한 것으로 전체 구조를 파악하는 것을 도와줄 것이다.

![](/img/in-post/prototype2.png)

윗변의 왼쪽 꼭짓점에는 **Constructor(생성자함수)**를, 오른쪽 꼭짓점에는 **Constructor.prototype**이라는 프로퍼티를 위치시켰다. 왼쪽 꼭짓점으로부터 아래를 향한 화살표 중간에 **new**가 있고 화살표의 끝에 **instance**가 있다. 오른쪽 꼭짓점으로부터 대각선 아래로 향하는 화살표의 끝에 **instance.\_\_proto\_\_**라는 프로퍼티가 있다.

-   어떤 생성자 함수를 new 연산자와 함께 호출하면
-   Constructor에서 정의된 내용을 바탕으로 새로운 인스턴스가 생성된다.
-   이 때 instance에는 \_\_proto\_\_라는 프로퍼티가 자동으로 부여되는데
-   이 프로퍼티는 Constructor의 prototype이라는 프로퍼티를 참조한다.

prototype 객체 내부에는 인스턴스가 사용할 메서드를 저장한다. 그러면 인스턴스에서도 숨겨진 프로퍼티인 \_\_proto\_\_을 통해 이 메서드들에 접근할 수 있게 된다.

예를 들어, Person이라는 생성자 함수의 prototype에 getName이라는 메서드를 지정했다고 치자.

```js
var Person = function (name) {
    this._name = name;
};
Person.prototype.getName = function () {
    return this._name;
};
```

이제 Person의 인스턴스는 \_\_proto\_\_ 프로퍼티를 통해 getName을 호출할 수 있다.

```js
var juri = new Person("juri");
juri.__proto__.getName(); // undefined
```

instance의 \_\_proto\_\_가 Constructor의 prototype 프로퍼티를 참조하므로 둘은 같은 객체를 바라본다.
