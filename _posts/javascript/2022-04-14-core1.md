---
layout: post
title: 자바스크립트의 데이터타입
subtitle: 코어자바스크립트 정복 01
header-style: text
author: Juri
tags:
    - javascript
---

## 데이터 타입

-   기본형 (primitive type) : 숫자, 문자열, 불리언, null, undefined 등
-   참조형 (reference type) : 객체, 배열, 함수, 날짜, 정규표현식 등

기본형은 값이 담긴 주솟값을 바로 복제하는 반면에 참조형은 값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제한다.

## 기본형 데이터와 참조형 데이터

### 불변값

```js
var a = "abc";
a = a + "def";

var b = 5;
var c = 5;
b = 7;
```

변수 a에 문자열 'abc'를 할당했다가 뒤에 'def'를 추가하면 기존의 'abc'가 'abcdef'로 바뀌는 것이 아니라 새로운 문자열 'abcdef'를 만들어 그 주소를 변수 a에 저장한다. 'abc'와 'abcdef'는 별개의 데이터로 볼 수 있다. 값의 변경은 데이터를 새로 만드는 동작을 통해서만 이루어진다. 이것이 불변값의 성질이다. 한 번 만들어진 값은 GC되지 않는 한 변하지 않는다.

### 가변값

```js
var obj = {
    a: 1,
    b: "abc",
};
```

![](/img/in-post/core1-1.jpg)

1. 변수 영역의 빈 공간 (@1002)를 확보하고 그 주소의 이름을 `obj`로 지정한다.
2. 임의의 데이터 공간 (@5001)에 여러 개의 프로퍼티로 이뤄진 데이터 그룹을 저장하기 전에 그룹 내부의 프로퍼티들을 저장하기 위해 별도의 변수 영역을 마련하고 그 영역의 주소 (@7103~7104)를 @5001에 저장한다.
3. @7103과 @7104에 각각 `a`, `b` 라는 프로퍼티 이름을 지정한다.
4. 데이터 영역에서 `1`을 검색한다. 검색 결과가 없으므로 임의의 데이터 공간 (@5003)에 저장하고 이 주소를 @7103에 저장한다. `abc`도 마찬가지로 실행한다.

기본형 데이터와 **객체의 변수 영역이 별도로 존재한다**는 차이점이 있다.

```js
var obj = {
    a: 1,
    b: "abc",
};
obj.a = 2;
```

`obj`의 a프로퍼티에 2를 할당하려고 한다.

데이터 영역에 `2`를 검색한다. 검색 결과가 없으므로 임의의 데이터 공간(@5005)에 저장하고 이 주소를 @7103에 저장한다.

변수 obj이 바라보고 있는 주소는 @5001로 변하지 않는다. 새로운 객체가 만들어진 것이 아니라 **기존의 객체 내부의 값**이 바뀐 것이다.

### 변수 복사 비교

기본형 데이터와 참조형 데이터의 차이를 확인해보자.

```js
var a = 10;
var b = a;

var obj1 = { c: 10, d: "abc" };
var obj2 = obj1;
```

![](/img/in-post/core1-2.jpg)

**기본형 데이터**

1. 변수 영역의 빈 공간 @1001을 확보하고 식별자로 a를 지정한다.
2. 데이터 영역에 `10`이 없으므로 빈 공간 @5001에 저장하고 @1001에 이 주소를 넣는다.
3. 변수 영역의 빈 공간 @1002를 확보하고 식별자로 b를 지정한다.
4. 식별자 a를 검색해 @1001에 저장된 값인 @5001을 @1002에 값으로 대입한다.

**참조형 데이터**

1. 변수 영역의 빈 공간 @1003을 확보하고 식별자로 obj1를 지정한다.
2. 데이터 영역의 빈 공간 @5002를 확보하고 데이터 그룹을 저장해야하기 때문에 별도의 변수 영역을 마련하고 그 영역의 주소를 @5002에 저장한다.
3. @7103과 @7104에 각각 `c`, `d` 라는 프로퍼티 이름을 지정한다.
4. 데이터 영역에서 `10`을 검색한다. 검색 결과가 없으므로 임의의 데이터 공간 (@5003)에 저장하고 이 주소를 @7103에 저장한다. `abc`도 마찬가지로 실행한다.
5. 변수 영역의 빈 공간 @1004를 확보하고 식별자로 obj2를 지정한다. 식별자 obj1을 검색해 @1003에 저장된 값인 @5002를 @1004에 값으로 대입한다.

변수를 복사하는 과정은 같은 주소를 바라보게 되는 점에서 동일하다.

객체의 프로퍼티를 변경하거나 객체 자체를 변경하면 큰 차이가 발생한다.

```js
var a = 10;
var b = a;

var obj1 = { c: 10, d: "abc" };
var obj2 = obj1;

b = 15;
obj2.c = 20;
```

![](/img/in-post/core1-3.jpg)

1. 앞 부분은 위의 다른 예시와 같다.
2. 데이터 영역에서 15를 검색한다. 검색 결과가 없으므로 새로운 공간 (@5004)에 저장하고 그 주소를 든 채로 변수 영역에서 식별자가 b인 주소를 찾는다. @1002의 값이 @5004로 바뀐다.
3. 데이터 영역에서 20을 검색한다. 검색 결과가 없으므로 새로운 공간 (@5005)에 저장하고 그 주소를 든 채로 변수 영역에서 obj2를 찾는다. obj2의 값(@5002)이 가리키는 변수 영역에서 c를 찾아 그곳에 @5005를 대입한다.

기본형 데이터를 복사한 변수 b의 값을 바꿨더니 @1002의 값이 달라진 것과 다르게, 참조형 데이터를 복사한 변수 obj2의 프로퍼티 값을 바꿨더니 @1004의 값은 달라지지 않았다.
즉, 변수 a와 b는 다른 주소를 바라보게 됐으나, 변수 obj1와 obj2는 같은 객체를 바라보고 있다.

| 기본형은 주솟값을 복사하는 과정이 한 번 이뤄지고 참조형은 한 단계를 더 거친다!

주의 ) 객체 자체를 변경할 때는 각각의 객체가 다른 주소를 바라보게 된다.

```js
var a = 10;
var b = a;

var obj1 = { c: 10, d: "abc" };
var obj2 = obj1;

b = 15;
obj2 = { c: 20, d: "abc" };
```
